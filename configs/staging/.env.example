# Staging Environment Configuration Template
# Copy this file to .env and fill in the actual values

# Database Configuration
DATABASE_URL=postgresql://scribe_admin:${DB_PASSWORD}@staging-scribe-postgres.${AWS_REGION}.rds.amazonaws.com:5432/scribe
DB_USER=scribe_admin
DB_PASSWORD=your_staging_db_password_here
DB_NAME=scribe
DB_PORT=5432

# Gemini AI Configuration
GEMINI_API_KEY=your_staging_gemini_api_key_here

# Server Configuration
PORT=8080
SESSION_COOKIE_SECURE=true
COOKIE_SIGNING_KEY=your_hex_encoded_cookie_signing_key_here
RUST_LOG=info

# Qdrant Configuration - AWS ECS Service Discovery
QDRANT_URL=https://qdrant.staging.local:6334
QDRANT_HTTP_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_TLS_ENABLED=true
QDRANT_API_KEY=your_qdrant_api_key_here

# Email Configuration
APP_ENV=staging
FROM_EMAIL=noreply@scribe.yourdomain.com
FRONTEND_BASE_URL=https://staging.scribe.yourdomain.com

# AWS Configuration
AWS_REGION=us-east-1

# File Storage
UPLOAD_STORAGE_PATH=/app/uploads

# Tokenizer Configuration
TOKENIZER_MODEL_PATH=resources/tokenizers/gemma.model

# Token Counter Configuration
TOKEN_COUNTER_DEFAULT_MODEL=gemini-2.5-flash-preview-05-20

# Context Configuration
CONTEXT_TOTAL_TOKEN_LIMIT=200000
CONTEXT_RECENT_HISTORY_TOKEN_BUDGET=150000
CONTEXT_RAG_TOKEN_BUDGET=50000

# Chunking Configuration
CHUNKING_METRIC=word
CHUNKING_MAX_SIZE=200
CHUNKING_OVERLAP=20

# Staging-specific settings
ENABLE_DEBUG_ROUTES=false
CORS_ALLOWED_ORIGINS=https://staging.scribe.yourdomain.com

# TLS Certificate Configuration for AWS ECS
# Certificates are loaded from AWS Secrets Manager environment variables
# TLS_CERT_PEM and TLS_KEY_PEM are set by ECS from Secrets Manager
ENVIRONMENT=staging

# Container settings for staging
CERT_PATH=/app/certs
BACKEND_IMAGE=your-registry/sanguine-scribe/scribe-backend:staging
BACKEND_PORT=8080